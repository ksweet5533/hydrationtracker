<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydration Meter</title>
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlkcmF0aW9uIE1ldGVyIiwic2hvcnRfbmFtZSI6Ikh5ZHJhdGlvbiIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjMDAwMDAwIiwidGhlbWVfY29sb3IiOiIjMzk5M0ZGIiwiaWNvbnMiOlt7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1qQXdJaUJvWldsbmFIUTlJakl3TUNJZ1ptbHNiRDBpSXpNNU9UTkdHaUlnZG1sbGQwSnZlRDBpTUNBd0lESXdNQ0F5TURISW9iREFpUGp4amFYSmpiR1VnWTNnOUlqRXdNQ0lnWTNrOUlqRXdNQ0lnY2owdU9ESW1NVHM5SUNabmRHdDNibWwwZEQ4d0lpQm1hV3hzUFNJaVF6RTFRVFJEWmk0SjBNWDBuZCs+PC9jYVhKamJHVStQSEI4SWkuLjgvTE1BNTFmTlVvKzgvei4uX3JOT0k2UTVkeVBJNmNvbXA4L3l4aUdUZ0Fkb0NQN2VqZXAwZFl2SkhCZFJpcWNLUjI5MUtVREhJUmQzdVBBMDQ4PW9IaGlCYjgyQXBnZWh1SW1pWERvdXBIMklHL000emhFWTVoRFluY0FkRXovSUFGSCsrZU9PV3l0M1dkaU5oWTVoRFJ4QjA5U0NJNzJBZGNjZmpzWVJJZHlQSTZTUTZheUlsOXlQSTZjb213aWkwWDgvcmJCL3pOSlJEZHF4UEVHOGhIY0FCdGdBKzBnR2lOeS4uXzJiWU5kM3BCb2pjV04iLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9XX0=">
    <meta name="theme-color" content="#3993FF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzM5OTNGRiIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI4MiIvPjwvc3ZnPg==">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
        }
        
        #root {
            width: 100vw;
            height: 100vh;
        }
        
        /* Tailwind-like utilities */
        .min-h-screen { min-height: 100vh; }
        .bg-black { background-color: #000000; }
        .text-white { color: #ffffff; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .z-10 { z-index: 10; }
        .pt-12 { padding-top: 3rem; }
        .pb-4 { padding-bottom: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mb-12 { margin-bottom: 3rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-5xl { font-size: 3rem; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-200 { color: #e5e7eb; }
        .text-blue-400 { color: #60a5fa; }
        .text-blue-300 { color: #93c5fd; }
        .text-green-400 { color: #4ade80; }
        .text-green-300 { color: #86efac; }
        .w-4 { width: 1rem; }
        .h-2 { height: 0.5rem; }
        .w-5 { width: 1.25rem; }
        .h-5 { height: 1.25rem; }
        .w-8 { width: 2rem; }
        .h-8 { height: 2rem; }
        .w-64 { width: 16rem; }
        .h-64 { height: 16rem; }
        .w-full { width: 100%; }
        .flex-1 { flex: 1; }
        .grid { display: grid; }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        .text-center { text-align: center; }
        .border { border-width: 1px; }
        .rounded-sm { border-radius: 0.125rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-2xl { border-radius: 1rem; }
        .p-4 { padding: 1rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .mx-6 { margin-left: 1.5rem; margin-right: 1.5rem; }
        .overflow-hidden { overflow: hidden; }
        .transform { transform: translateZ(0); }
        .transition-all { transition: all 0.3s; }
        .duration-200 { transition-duration: 0.2s; }
        .duration-700 { transition-duration: 0.7s; }
        .ease-out { transition-timing-function: cubic-bezier(0, 0, 0.2, 1); }
        .cursor-pointer { cursor: pointer; }
        
        /* Custom styles */
        .bg-gradient-to-b {
            background: linear-gradient(to bottom, rgba(30, 58, 138, 0.2), #000000, #000000);
        }
        
        .bg-gray-800\/60 {
            background-color: rgba(31, 41, 55, 0.6);
            backdrop-filter: blur(8px);
        }
        
        .bg-blue-600\/80 {
            background-color: rgba(37, 99, 235, 0.8);
            backdrop-filter: blur(8px);
        }
        
        .bg-gray-700\/60 {
            background-color: rgba(55, 65, 81, 0.6);
            backdrop-filter: blur(8px);
        }
        
        .bg-green-600\/20 {
            background-color: rgba(22, 163, 74, 0.2);
        }
        
        .border-gray-700 { border-color: #374151; }
        .border-gray-600 { border-color: #4b5563; }
        .border-green-500\/30 { border-color: rgba(34, 197, 94, 0.3); }
        .border-white { border-color: #ffffff; }
        
        .active\:scale-95:active { transform: scale(0.95); }
        .hover\:bg-gray-700\/60:hover { background-color: rgba(55, 65, 81, 0.6); }
        .hover\:bg-blue-500\/80:hover { background-color: rgba(59, 130, 246, 0.8); }
        
        .focus\:outline-none:focus { outline: none; }
        .focus\:border-blue-500:focus { border-color: #3b82f6; }
        
        .disabled\:bg-gray-600:disabled { background-color: #4b5563; }
        .disabled\:opacity-50:disabled { opacity: 0.5; }
        
        .placeholder-gray-400::placeholder { color: #9ca3af; }
        
        .h-1 { height: 0.25rem; }
        .w-3 { width: 0.75rem; }
        .m-0\.5 { margin: 0.125rem; }
        .bg-white { background-color: #ffffff; }
        .h-8 { height: 2rem; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { Droplets, Plus } = lucideReact;

        function WaterTracker() {
            const [waterConsumed, setWaterConsumed] = useState(() => {
                const saved = localStorage.getItem('waterConsumed');
                return saved ? parseInt(saved) : 0;
            });
            const [dailyGoal] = useState(() => {
                const saved = localStorage.getItem('dailyGoal');
                return saved ? parseInt(saved) : 64;
            });
            const [customAmount, setCustomAmount] = useState('');
            const [showCustomInput, setShowCustomInput] = useState(false);

            // Check if it's a new day and reset if needed
            React.useEffect(() => {
                const lastDate = localStorage.getItem('lastDate');
                const today = new Date().toDateString();
                
                if (lastDate !== today) {
                    setWaterConsumed(0);
                    localStorage.setItem('lastDate', today);
                    localStorage.setItem('waterConsumed', '0');
                }
            }, []);

            // Save to localStorage whenever waterConsumed changes
            React.useEffect(() => {
                localStorage.setItem('waterConsumed', waterConsumed.toString());
            }, [waterConsumed]);

            const percentage = Math.min((waterConsumed / dailyGoal) * 100, 100);
            const circumference = 2 * Math.PI * 90;
            const strokeDasharray = circumference;
            const strokeDashoffset = circumference - (percentage / 100) * circumference;

            const addWater = (amount) => {
                setWaterConsumed(prev => prev + amount);
                setShowCustomInput(false);
                setCustomAmount('');
            };

            const handleCustomAdd = () => {
                const amount = parseInt(customAmount);
                if (amount && amount > 0) {
                    addWater(amount);
                }
            };

            const quickAddButtons = [
                { label: '6 oz', amount: 6, icon: 'ðŸ’§' },
                { label: '12 oz', amount: 12, icon: 'ðŸ’§ðŸ’§' },
                { label: '24 oz', amount: 24, icon: 'ðŸ’§ðŸ’§ðŸ’§ðŸ’§' }
            ];

            // Get current time for status bar
            const currentTime = new Date().toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: false 
            });

            return (
                <div className="min-h-screen bg-black text-white relative overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-b"></div>
                    
                    <div className="relative z-10 pt-12 pb-4 px-6">
                        <div className="flex justify-between items-center text-sm font-medium">
                            <span>{currentTime}</span>
                            <div className="flex items-center gap-1">
                                <div className="w-4 h-2 border border-white rounded-sm">
                                    <div className="w-3 h-1 bg-white rounded-sm m-0.5"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="relative z-10 px-6 mb-8">
                        <div className="flex items-center gap-3 mb-2">
                            <Droplets className="w-8 h-8 text-blue-400" />
                            <h1 className="text-3xl font-bold">Hydration Meter</h1>
                        </div>
                        <p className="text-gray-400">Stay hydrated throughout your day</p>
                    </div>

                    <div className="relative z-10 flex flex-col items-center mb-12">
                        <div className="relative w-64 h-64">
                            <svg className="w-64 h-64 transform" viewBox="0 0 200 200" style={{transform: 'rotate(-90deg)'}}>
                                <circle
                                    cx="100"
                                    cy="100"
                                    r="90"
                                    fill="none"
                                    stroke="rgba(55, 65, 81, 0.3)"
                                    strokeWidth="12"
                                />
                                <circle
                                    cx="100"
                                    cy="100"
                                    r="90"
                                    fill="none"
                                    stroke="url(#waterGradient)"
                                    strokeWidth="12"
                                    strokeLinecap="round"
                                    strokeDasharray={strokeDasharray}
                                    strokeDashoffset={strokeDashoffset}
                                    className="transition-all duration-700 ease-out"
                                />
                                <defs>
                                    <linearGradient id="waterGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stopColor="#3B82F6" />
                                        <stop offset="100%" stopColor="#06B6D4" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            
                            <div className="absolute inset-0 flex flex-col items-center justify-center">
                                <div className="text-5xl font-bold text-blue-400 mb-2">
                                    {waterConsumed}
                                </div>
                                <div className="text-gray-400 text-lg">of {dailyGoal} oz</div>
                                <div className="text-2xl font-semibold mt-2 text-blue-300">
                                    {Math.round(percentage)}%
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="relative z-10 px-6 mb-6">
                        <h3 className="text-xl font-semibold mb-4 text-gray-200">Quick Add</h3>
                        <div className="grid grid-cols-3 gap-3 mb-4">
                            {quickAddButtons.map((button) => (
                                <button
                                    key={button.amount}
                                    onClick={() => addWater(button.amount)}
                                    className="bg-gray-800/60 border border-gray-700 rounded-2xl p-4 text-center transition-all duration-200 active:scale-95 hover:bg-gray-700/60 cursor-pointer"
                                >
                                    <div className="text-2xl mb-2">{button.icon}</div>
                                    <div className="text-white font-medium">{button.label}</div>
                                </button>
                            ))}
                        </div>
                        
                        <button
                            onClick={() => setShowCustomInput(!showCustomInput)}
                            className="w-full bg-blue-600/80 rounded-2xl p-4 flex items-center justify-center gap-2 transition-all duration-200 active:scale-95 hover:bg-blue-500/80 cursor-pointer"
                        >
                            <Plus className="w-5 h-5" />
                            <span className="font-medium">Custom Amount</span>
                        </button>
                        
                        {showCustomInput && (
                            <div className="mt-4 p-4 bg-gray-800/60 rounded-2xl border border-gray-700">
                                <div className="flex gap-3">
                                    <input
                                        type="number"
                                        value={customAmount}
                                        onChange={(e) => setCustomAmount(e.target.value)}
                                        placeholder="Enter oz"
                                        className="flex-1 bg-gray-700/60 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"
                                        autoFocus
                                    />
                                    <button
                                        onClick={handleCustomAdd}
                                        disabled={!customAmount || parseInt(customAmount) <= 0}
                                        className="bg-blue-600 disabled:bg-gray-600 disabled:opacity-50 rounded-xl px-6 py-3 font-medium transition-all duration-200 cursor-pointer"
                                    >
                                        Add
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>

                    {percentage >= 100 && (
                        <div className="relative z-10 mx-6 mb-6 p-4 bg-green-600/20 border border-green-500/30 rounded-2xl">
                            <div className="flex items-center gap-2">
                                <span className="text-2xl">ðŸŽ‰</span>
                                <div>
                                    <div className="text-green-400 font-semibold">Goal Achieved!</div>
                                    <div className="text-green-300 text-sm">Great job staying hydrated today</div>
                                </div>
                            </div>
                        </div>
                    )}

                    <div className="h-8"></div>
                </div>
            );
        }

        ReactDOM.render(<WaterTracker />, document.getElementById('root'));
    </script>

    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:application/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZXZlbnQgPT4gewogIGV2ZW50LndhaXRVbnRpbCgKICAgIGNhY2hlcy5vcGVuKCdoeWRyYXRpb24tdjEnKS50aGVuKGNhY2hlID0+IHsKICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChbCiAgICAgICAgJy8nCiAgICAgIF0pOwogICAgfSkKICApOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBldmVudCA9PiB7CiAgZXZlbnQucmVzcG9uZFdpdGgoCiAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTsKICAgIH0pCiAgKTsKfSk7')
                .then(() => console.log('SW registered'))
                .catch(() => console.log('SW registration failed'));
        }
    </script>
</body>
</html>
